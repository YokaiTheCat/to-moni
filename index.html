<!DOCTYPE html>
<html>
<head>
  <title>For Moni ‚ù§Ô∏è</title>
  <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Patrick Hand', cursive;
      text-align: center;
      background: url('paper-texture.jpg') repeat;
      padding-top: 40px;
      overflow-x: hidden;
      color: #222;
    }

    #envelope {
      cursor: pointer;
      font-size: 80px;
      margin-top: 120px;
      transition: transform 0.6s ease;
    }
    #envelope.open {
      transform: scale(0.8) rotateY(180deg);
    }

    .letter {
      display: none;
      background: rgba(255, 255, 255, 0.95);
      width: 65%;
      margin: auto;
      padding: 30px;
      border-radius: 25px; /* rounded corners */
      box-shadow: 0 0 25px rgba(255, 77, 109, 0.4);
      opacity: 0;
      transition: opacity 0.6s, transform 0.3s, box-shadow 0.3s;
      text-align: center;
      border: 4px solid;
      border-image: linear-gradient(45deg, #ff4d6d, #ffb6c1) 1; /* gradient border */
      position: relative;
    }

    /* Glow effect on hover */
    .letter:hover {
      transform: scale(1.02);
      box-shadow: 0 0 40px rgba(255, 77, 109, 0.7);
    }


    .letter.show { opacity: 1; }

    .letter-header {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }

    .blur-image {
      filter: blur(8px);
      cursor: pointer;
      transition: filter 0.5s ease;
      display: block;
      margin: 20px auto 0 auto;
    }

    button {
      padding: 12px 22px;
      margin: 10px;
      font-size: 16px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      background: #ff4d6d;
      color: white;
      transition: transform 0.2s;
    }
    button:hover { transform: scale(1.05); }

    #noBtn { position: relative; background: #8338ec; }

    .confetti {
      position: fixed;
      top: -10px;
      font-size: 20px;
      animation: fall 3s linear forwards;
    }
    @keyframes fall { to { transform: translateY(110vh) rotate(720deg); } }

    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-image: linear-gradient(rgba(0,0,0,0.05) 1px, transparent 1px),
                        linear-gradient(90deg, rgba(0,0,0,0.05) 1px, transparent 1px);
      background-size: 40px 40px;
      pointer-events: none;
    }
  </style>
</head>
<body>

<!-- Envelope -->
<div id="envelope" onclick="openLetter()">üíå</div>
<p>To: Moni :^) <br>From: Day 1 Admirer</p>


<!-- Letters -->
<!-- LETTER 1 -->
<div class="letter" id="letter1">
  <div class="letter-header">
    <h2>Hi Baby üíå</h2>
    <img src="moni1.jpg" width="250">
  </div>
  <p class="type">Di pwedeng ikaw lang nagcode HAHHAHAHAHA!!!.</p>
  <p class="type">Supposedly, dapat email yung gagawin kong valentines invitation pero for the love of god hindi ko naisipan to.</p>
  <p class="type">Anyway, sorry if hindi original pero gusto ko rin to gawin for you!! :^) maybe just think of this in a way na reply ko to sa invitation mo :D</p>
  <button onclick="next()">Next ‚Üí</button>
</div>

<!-- LETTER 2 -->
<div class="letter" id="letter2">
  <h2>First of all.. (Backstory)</h2>
  <p class="type">
    I just wanted to say.. super appreciate ko ginawa mo and for taking your time sa pag create ng
    ganito wahahahaha alam mo kinilig ako at the same time I felt like I rekindled a lost interest I had in me that I have abandoned a long time ago.
    Did you know ito yung last kong hobby before ako mag transition to college kasi what I had in mind was I wanted to pick nursing as my course.. 
    eventually maging doctor sa path na yun.. pero yun, iniisip ko rin kasi that time yung struggles ng parents ko financially and ayaw ko rin 
    parang mas mahirapan pa sila.. tapos yun yung comment ng papa ko na madami na raw nurses sa PH tapos underpaid etc etc. Long story short, naisipan ko nalang mag computer science as my second pero no regrets din naman ako rito. 
    Pero yun, ever since parang abandoned hobby ko na siya kahit computer science course ko parang tinamad na ako mag build and mag design ng ganito :^( mas nag focus ako sa aspect ng coding and application ng 
    mathematical theories. Kaya eto tinatry ko ulit irecall lahat ng natutunan ko and inaaralan ko ulit pano mag github dahil na-inspired ako sayo.
  </p>

  <img id="hiddenImage" src="moni1.jpg" width="250" class="blur-image" onclick="revealImage()">

  <div>
    <button onclick="back()">‚Üê Back</button>
    <button onclick="next()">Next ‚Üí</button>
  </div>
</div>

<!-- LETTER 3 -->
<div class="letter" id="letter3">
  <h2>Second...</h2>
  <p class="type">Mag oone year na tayo (ikr time flies so fast), and tbh, 
    every day with you makes my world a little bit brighter, lighter, 
    and a lot more unpredictable (in a good way). </p>
  <button onclick="back()">‚Üê Back</button>
  <button onclick="next()">Next ‚Üí</button>
</div>

<!-- LETTER 4 -->
<div class="letter" id="letter4">
  <h2>Letter 4</h2>
  <p class="type">Almost at my question‚Ä¶</p>
  <button onclick="back()">‚Üê Back</button>
  <button onclick="next()">Next ‚Üí</button>
</div>

<!-- LETTER 5 -->
<div class="letter" id="letter5">
  <h2>Will You Be My Valentine? ‚ù§Ô∏è</h2>
  <button onclick="yesClick()">Yes</button>
  <button id="noBtn" onmouseover="moveNo()">No</button>
  <br><br>
  <button onclick="back()">‚Üê Back</button>
</div>

<!-- MUSIC -->
<audio id="music1" loop src="music1everything.mp3"></audio>
<audio id="music2" loop src="music2core.mp3"></audio>
<audio id="music3" loop src="music3yoasobi.mp3"></audio>
<audio id="music4" loop src="music4yakap.mp3"></audio>

<script>
let current = 1;
const total = 5;

/* Envelope open */
function openLetter() {
  document.getElementById("envelope").classList.add("open");
  setTimeout(() => {
    document.getElementById("envelope").style.display = "none";
    document.querySelector("p").style.display = "none";
    show(1);
  }, 600);
}

/* Show letter */
function show(n) {
  for(let i=1;i<=total;i++){
    let el=document.getElementById("letter"+i);
    el.style.display="none";
    el.classList.remove("show");
  }
  let box=document.getElementById("letter"+n);
  box.style.display="block";
  setTimeout(()=> box.classList.add("show"), 10);
  typeText(box);
  playMusic(n);
  current=n;
}

function next(){ if(current<total) show(current+1); }
function back(){ if(current>1) show(current-1); }

/* Typing effect */
function typeText(container){
  const els=container.querySelectorAll(".type");
  els.forEach(el=>{
    const text=el.getAttribute("data-text") || el.innerHTML;
    el.setAttribute("data-text", text);
    el.innerHTML="";
    let i=0;
    const timer=setInterval(()=>{
      el.innerHTML+=text.charAt(i);
      i++;
      if(i>=text.length) clearInterval(timer);
    },10); // faster typing
  });
}

/* Reveal image */
function revealImage(){
  const img=document.getElementById("hiddenImage");
  img.style.filter="blur(0)";
}

/* Music play */
function playMusic(n){
  const tracks=[
    document.getElementById("music1"),
    document.getElementById("music2"),
    document.getElementById("music3"),
    document.getElementById("music4")
  ];
  tracks.forEach((t,i)=> i===n-1 ? t.play() : t.pause());
}

/* Yes / No */
function yesClick(){ alert("Will you be my Valentine? ‚ù§Ô∏è"); confettiBurst(); }
function moveNo(){
  const btn=document.getElementById("noBtn");
  const x=Math.random()*300-150;
  const y=Math.random()*200-100;
  btn.style.transform=`translate(${x}px, ${y}px)`;
}

/* Confetti */
function confettiBurst(){
  for(let i=0;i<40;i++){
    let c=document.createElement("div");
    c.className="confetti";
    c.innerText=["‚ù§Ô∏è","üíñ","üíò","üíï"][Math.floor(Math.random()*4)];
    c.style.left=Math.random()*100+"vw";
    c.style.animationDuration=(2+Math.random()*2)+"s";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),4000);
  }
}
</script>
</body>
</html>
